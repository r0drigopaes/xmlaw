<project 	xmlns:j="jelly:core"	xmlns:d="deploy"	xmlns:artifact="artifact"	xmlns:ju="jelly:util"	xmlns:ant="jelly:ant">		<goal name="les:law:release">		<attainGoal name="clean" />		<attainGoal name="les:law:client:release" />		<j:set var="maven.test.skip" value="true"/>		<attainGoal name="les:law:server:release" />	</goal>		<goal name="les:law:install">		<attainGoal name="clean" />		<attainGoal name="les:law:client:install" />		<j:set var="maven.test.skip" value="true"/>		<attainGoal name="les:law:server:install" />	</goal>		<goal name="les:law:client:install">		<!-- Backup variable values -->		<attainGoal name="les:law:bkp" />		<!-- Set variables according to the jar:install goal -->		<j:set var="maven.jar.includes" value="${les.law.release.client.jar.include}"/>		<j:set var="maven.final.name" value="${les.law.release.client.jar.name}-${pom.currentVersion}"/>		<attainGoal name="jar:jar"/>		<ant:copy file="${maven.build.dir}/${maven.jar.final.name}" todir="${maven.repo.local}/${pom.groupId}/jars" />				<!-- Restore variable values -->			<attainGoal name="les:law:restore"/>	</goal>		<goal name="les:law:server:install">		<!-- Backup variable values -->		<attainGoal name="les:law:bkp" />		<!-- Set variables according to the jar:install goal -->		<j:set var="maven.jar.excludes" value="${les.law.release.server.jar.exclude}"/>		<j:set var="maven.final.name" value="${les.law.release.server.jar.name}-${pom.currentVersion}"/>		<attainGoal name="jar:jar"/>		<ant:copy file="${maven.build.dir}/${maven.jar.final.name}" todir="${maven.repo.local}/${pom.groupId}/jars" />				<!-- Restore variable values -->			<attainGoal name="les:law:restore"/>	</goal>			<goal name="les:law:client:release">				<!-- Backup variable values -->		<attainGoal name="les:law:bkp" />				<!-- Set variables according to the les:release goal -->		<j:set var="maven.jar.includes" value="${les.law.release.client.jar.include}"/>		<j:set var="maven.final.name" value="${les.law.release.client.jar.name}"/>		<j:set var="les.release.dir" value="${les.release.dir}_client"/>		<j:set var="les.release.module" value="client"/>				<!-- Echo variables values -->		<echo>jar includes : ${maven.jar.includes}</echo>		<echo>jar file name: ${maven.jar.final.name}</echo>		<echo>release dir  : ${les.release.dir}</echo>		<attainGoal name="les:release" />				<!-- Restore variable values -->		<attainGoal name="les:law:restore" />	</goal>		<goal name="les:law:server:release">			<!-- Backup variables values -->		<attainGoal name="les:law:bkp" />				<!-- Set variables according to the les:release goal -->		<j:set var="maven.jar.excludes" value="${les.law.release.server.jar.exclude}"/>		<j:set var="maven.final.name" value="${les.law.release.server.jar.name}"/>		<j:set var="les.release.dir" value="${les.release.dir}_server"/>		<j:set var="les.release.module" value="server"/>		<!-- Echo variables values -->		<echo>jar excludes : ${maven.jar.excludes}</echo>		<echo>jar file name: ${maven.jar.final.name}</echo>		<echo>release dir  : ${les.release.dir}</echo>				<!-- executes the goal -->		<attainGoal name="les:release" />				<!-- Restore variables values -->		<attainGoal name="les:law:restore" />	</goal>	<!-- Backup variables values -->	<goal name="les:law:bkp">				<j:set var="maven.jar.includes.bkp" value="${maven.jar.includes}"/>		<j:set var="maven.jar.excludes.bkp" value="${maven.jar.excludes}"/>		<j:set var="maven.final.name.bkp" value="${maven.jar.final.name}"/>		<j:set var="les.release.dir.bkp" value="${les.release.dir}"/>		<j:set var="les.release.module.bkp" value="${les.release.module}"/>	</goal>		<!-- Restore variables values -->	<goal name="les:law:restore">				<j:set var="maven.jar.includes" value="${maven.jar.includes.bkp}"/>		<j:set var="maven.jar.excludes" value="${maven.jar.excludes.bkp}"/>		<j:set var="maven.final.name" value="${maven.jar.final.name.bkp}"/>		<j:set var="les.release.dir" value="${les.release.dir.bkp}"/>		<j:set var="les.release.module" value="${les.release.module.bkp}"/>			</goal>	</project>